(this["webpackJsonpearningsvibe-frontend"]=this["webpackJsonpearningsvibe-frontend"]||[]).push([[0],{243:function(e,t,s){},244:function(e,t,s){},247:function(e,t,s){"use strict";s.r(t);var c=s(0),n=s.n(c),r=s(43),o=s.n(r),i=s(46),a=s.n(i),l=s(85),u=s(27),d=s(252),j=s(253),h=s(117),b=s(260),x=s(267),O=s(261),m=s(22),f=s(53),p=s(262),y=s(264),g=s(116),v=s(268),k=s(2),A=p.a.Brand;function w(e){e.onSearch;var t=e.searchPlaceholderText,s=e.isSearchButton,c=e.onSearchClick,n=void 0===c?function(e){}:c,r=e.buttonText,o=e.brand,i=Object(f.a)(e,["onSearch","searchPlaceholderText","isSearchButton","onSearchClick","buttonText","brand"]);return Object(k.jsxs)(p.a,Object(m.a)(Object(m.a)({},i),{},{children:[Object(k.jsx)(A,{href:"#home",children:o}),Object(k.jsxs)(y.a,{inline:!0,className:"ml-auto",children:[Object(k.jsx)(g.a,{type:"text",placeholder:t||"Search",className:"mr-sm-2",onClick:function(e){return n(e)}}),s&&Object(k.jsx)(v.a,{variant:"outline-light",children:r||"Search"})]})]}))}function S(e){var t=e.children,s=Object(f.a)(e,["children"]);return Object(k.jsx)(d.a,Object(m.a)(Object(m.a)({},s),{},{children:t}))}s(119),y.a.Group,y.a.Control;s(266);var C=s(76),E=s(77),B=s(84),z=s(81),M=s(263),N=s(265),P=s(34),V=s(19),T=s(28),D=s(13),F=s(78),L=s(45),X=s(24),Y=s(79),W=function(e){Object(B.a)(s,e);var t=Object(z.a)(s);function s(){return Object(C.a)(this,s),t.apply(this,arguments)}return Object(E.a)(s,[{key:"render",value:function(){var e=Object(X.ema)().options({windowSize:20,sourcePath:"close"}).skipUndefined(!1).merge((function(e,t){e.ema20=t})).accessor((function(e){return e.ema20})).stroke("blue"),t=Object(X.sma)().options({windowSize:20}).merge((function(e,t){e.sma20=t})).accessor((function(e){return e.sma20})),s=Object(X.wma)().options({windowSize:20}).merge((function(e,t){e.wma20=t})).accessor((function(e){return e.wma20})),c=Object(X.tma)().options({windowSize:20}).merge((function(e,t){e.tma20=t})).accessor((function(e){return e.tma20})),n=Object(X.ema)().options({windowSize:50}).merge((function(e,t){e.ema50=t})).accessor((function(e){return e.ema50})),r=Object(X.sma)().options({windowSize:20,sourcePath:"volume"}).merge((function(e,t){e.smaVolume50=t})).accessor((function(e){return e.smaVolume50})).stroke("#4682B4").fill("#4682B4"),o=this.props,i=o.type,a=o.data,l=o.width,u=o.height,d=o.ratio,j=e(t(s(c(n(r(a)))))),h=F.discontinuousTimeScaleProvider.inputDateAccessor((function(e){return new Date(e.date)}))(j),b=h.data,x=h.xScale,O=h.xAccessor,m=h.displayXAccessor,f=[0,O(b[Math.max(0,b.length-1)])];return Object(k.jsxs)(P.b,{height:u,width:l,ratio:d,margin:{left:70,right:70,top:10,bottom:30},type:i,data:b,xScale:x,xAccessor:O,displayXAccessor:m,xExtents:f,clamp:!0,panEvent:!0,zoomEvent:!1,children:[Object(k.jsxs)(P.a,{id:1,yExtents:[function(e){return[e.high+3,e.low]},t.accessor(),s.accessor(),c.accessor(),e.accessor(),n.accessor()],padding:{top:10,bottom:20},children:[Object(k.jsx)(T.XAxis,{axisAt:"bottom",orient:"bottom",ticks:5}),Object(k.jsx)(T.YAxis,{axisAt:"right",orient:"right",ticks:5}),Object(k.jsx)(D.MouseCoordinateY,{at:"right",orient:"right",displayFormat:Object(M.a)(".2f")}),Object(k.jsx)(V.CandlestickSeries,{}),Object(k.jsx)(V.LineSeries,{yAccessor:t.accessor(),stroke:t.stroke()}),Object(k.jsx)(V.LineSeries,{yAccessor:s.accessor(),stroke:s.stroke()}),Object(k.jsx)(V.LineSeries,{yAccessor:c.accessor(),stroke:c.stroke()}),Object(k.jsx)(V.LineSeries,{yAccessor:e.accessor(),stroke:e.stroke()}),Object(k.jsx)(V.LineSeries,{yAccessor:n.accessor(),stroke:n.stroke()}),Object(k.jsx)(D.CurrentCoordinate,{yAccessor:t.accessor(),fill:t.stroke()}),Object(k.jsx)(D.CurrentCoordinate,{yAccessor:s.accessor(),fill:s.stroke()}),Object(k.jsx)(D.CurrentCoordinate,{yAccessor:c.accessor(),fill:c.stroke()}),Object(k.jsx)(D.CurrentCoordinate,{yAccessor:e.accessor(),fill:e.stroke()}),Object(k.jsx)(D.CurrentCoordinate,{yAccessor:n.accessor(),fill:n.stroke()}),Object(k.jsx)(L.OHLCTooltip,{origin:[-40,0]}),Object(k.jsx)(L.MovingAverageTooltip,{onClick:function(e){return console.log(e)},origin:[-38,15],options:[{yAccessor:t.accessor(),type:"SMA",stroke:t.stroke(),windowSize:t.options().windowSize,echo:"some echo here"},{yAccessor:s.accessor(),type:"WMA",stroke:s.stroke(),windowSize:s.options().windowSize,echo:"some echo here"},{yAccessor:c.accessor(),type:"TMA",stroke:c.stroke(),windowSize:c.options().windowSize,echo:"some echo here"},{yAccessor:e.accessor(),type:"EMA",stroke:e.stroke(),windowSize:e.options().windowSize,echo:"some echo here"},{yAccessor:n.accessor(),type:"EMA",stroke:n.stroke(),windowSize:n.options().windowSize,echo:"some echo here"}]})]}),Object(k.jsxs)(P.a,{id:2,yExtents:[function(e){return e.volume},r.accessor()],height:150,origin:function(e,t){return[0,t-150]},children:[Object(k.jsx)(T.YAxis,{axisAt:"left",orient:"left",ticks:1,tickFormat:Object(M.a)(".2s")}),Object(k.jsx)(D.MouseCoordinateX,{at:"bottom",orient:"bottom",displayFormat:Object(N.a)("%X")}),Object(k.jsx)(D.MouseCoordinateY,{at:"left",orient:"left",displayFormat:Object(M.a)(".4s")}),Object(k.jsx)(V.BarSeries,{yAccessor:function(e){return e.volume},fill:function(e){return e.close>e.open?"#6BA583":"red"}}),Object(k.jsx)(V.AreaSeries,{yAccessor:r.accessor(),stroke:r.stroke(),fill:r.fill()}),Object(k.jsx)(D.CurrentCoordinate,{yAccessor:r.accessor(),fill:r.stroke()}),Object(k.jsx)(D.CurrentCoordinate,{yAccessor:function(e){return e.volume},fill:"#9B0A47"})]}),Object(k.jsx)(D.CrossHairCursor,{})]})}}]),s}(c.Component);W.defaultProps={type:"svg",width:400,height:150};var I=W=Object(Y.fitWidth)(W),K=s(44),H=s(74),_=s(94),J=s(3);function R(e,t){var s=this;return function(c){Object(J.isNotDefined)(s.interactiveNodes)&&(s.interactiveNodes={});var n="".concat(e,"_").concat(t);(Object(J.isDefined)(c)||Object(J.isDefined)(s.interactiveNodes[n]))&&(s.interactiveNodes=Object(m.a)(Object(m.a)({},s.interactiveNodes),{},Object(H.a)({},n,{type:e,chartId:t,node:c})))}}var U=Object(X.ema)().id(0).options({windowSize:26}).merge((function(e,t){e.ema26=t})).accessor((function(e){return e.ema26})),G=Object(X.ema)().id(1).options({windowSize:12}).merge((function(e,t){e.ema12=t})).accessor((function(e){return e.ema12})),q=Object(X.macd)().options({fast:12,slow:26,signal:9}).merge((function(e,t){e.macd=t})).accessor((function(e){return e.macd})),Q=Object(X.sma)().id(3).options({windowSize:10,sourcePath:"volume"}).merge((function(e,t){e.smaVolume50=t})).accessor((function(e){return e.smaVolume50})),Z="2D",$={stroke:{macd:"#FF0000",signal:"#00F300"},fill:{divergence:"#4682B4"}},ee=function(e){Object(B.a)(s,e);var t=Object(z.a)(s);function s(e){var c;Object(C.a)(this,s),(c=t.call(this,e)).handleBrush1=c.handleBrush1.bind(Object(K.a)(c)),c.handleBrush3=c.handleBrush3.bind(Object(K.a)(c)),c.onKeyPress=c.onKeyPress.bind(Object(K.a)(c)),c.saveInteractiveNode=R.bind(Object(K.a)(c));var n=e.data,r=q(Q(G(U(n)))),o=F.discontinuousTimeScaleProvider.inputDateAccessor((function(e){return e.date}))(r),i=o.data,a=o.xScale,l=o.xAccessor,u=o.displayXAccessor,d=[0,l(i[Math.max(0,i.length-150)])];return c.state={data:n,xScale:a,xAccessor:l,displayXAccessor:u,xExtents:d,brushEnabled:!0},c}return Object(E.a)(s,[{key:"componentDidMount",value:function(){document.addEventListener("keyup",this.onKeyPress)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keyup",this.onKeyPress)}},{key:"saveCanvasNode",value:function(e){this.canvasNode=e}},{key:"onKeyPress",value:function(e){switch(e.which){case 27:this.node_1.terminate(),this.node_3.terminate(),this.setState({brushEnabled:!1})}}},{key:"handleBrush1",value:function(e,t){var s=e.start,c=e.end,n=Math.min(s.xValue,c.xValue),r=Math.max(s.xValue,c.xValue),o=Math.min(s.yValue,c.yValue),i=Math.max(s.yValue,c.yValue);this.setState({xExtents:[n,r],yExtents1:[o,i],brushEnabled:!1})}},{key:"handleBrush3",value:function(e,t){var s=e.start,c=e.end,n=Math.min(s.xValue,c.xValue),r=Math.max(s.xValue,c.xValue),o=Math.min(s.yValue,c.yValue),i=Math.max(s.yValue,c.yValue);this.setState({xExtents:[n,r],yExtents3:[o,i],brushEnabled:!1})}},{key:"render",value:function(){var e=this.props,t=e.type,s=e.width,c=e.ratio,n=this.state,r=n.data,o=n.xExtents,i=n.xScale,a=n.xAccessor,l=n.displayXAccessor,u=n.brushEnabled,d=Object(J.isDefined)(this.state.yExtents1)?this.state.yExtents1:[function(e){return[e.high,e.low]},U.accessor(),G.accessor()],j=Object(J.isDefined)(this.state.yExtents3)?this.state.yExtents3:q.accessor();return Object(k.jsxs)(P.b,{height:600,width:s,ratio:c,margin:{left:70,right:70,top:20,bottom:30},type:t,data:r,xScale:i,xAccessor:a,displayXAccessor:l,xExtents:o,children:[Object(k.jsxs)(P.a,{id:1,height:400,yPanEnabled:Object(J.isDefined)(this.state.yExtents1),yExtents:d,padding:{top:10,bottom:20},children:[Object(k.jsx)(T.XAxis,{axisAt:"bottom",orient:"bottom",showTicks:!1,outerTickSize:0}),Object(k.jsx)(T.YAxis,{axisAt:"right",orient:"right",ticks:5}),Object(k.jsx)(D.MouseCoordinateY,{at:"right",orient:"right",displayFormat:Object(M.a)(".2f")}),Object(k.jsx)(V.CandlestickSeries,{}),Object(k.jsx)(V.LineSeries,{yAccessor:U.accessor(),stroke:U.stroke()}),Object(k.jsx)(V.LineSeries,{yAccessor:G.accessor(),stroke:G.stroke()}),Object(k.jsx)(D.CurrentCoordinate,{yAccessor:U.accessor(),fill:U.stroke()}),Object(k.jsx)(D.CurrentCoordinate,{yAccessor:G.accessor(),fill:G.stroke()}),Object(k.jsx)(D.EdgeIndicator,{itemType:"last",orient:"right",edgeAt:"right",yAccessor:function(e){return e.close},fill:function(e){return e.close>e.open?"#6BA583":"#FF0000"}}),Object(k.jsx)(L.OHLCTooltip,{origin:[-40,0]}),Object(k.jsx)(L.MovingAverageTooltip,{onClick:function(e){return console.log(e)},origin:[-38,15],options:[{yAccessor:U.accessor(),type:U.type(),stroke:U.stroke(),windowSize:U.options().windowSize},{yAccessor:G.accessor(),type:G.type(),stroke:G.stroke(),windowSize:G.options().windowSize}]}),Object(k.jsx)(_.Brush,{ref:this.saveInteractiveNode(1),enabled:u,type:Z,onBrush:this.handleBrush1})]}),Object(k.jsxs)(P.a,{id:2,height:150,yExtents:[function(e){return e.volume},Q.accessor()],origin:function(e,t){return[0,t-300]},children:[Object(k.jsx)(T.YAxis,{axisAt:"left",orient:"left",ticks:5,tickFormat:Object(M.a)(".2s")}),Object(k.jsx)(D.MouseCoordinateY,{at:"left",orient:"left",displayFormat:Object(M.a)(".4s")}),Object(k.jsx)(V.BarSeries,{yAccessor:function(e){return e.volume},fill:function(e){return e.close>e.open?"#6BA583":"#FF0000"}}),Object(k.jsx)(V.AreaSeries,{yAccessor:Q.accessor(),stroke:Q.stroke(),fill:Q.fill()})]}),Object(k.jsxs)(P.a,{id:3,height:150,yExtents:j,yPanEnabled:Object(J.isDefined)(this.state.yExtents3),origin:function(e,t){return[0,t-150]},padding:{top:10,bottom:10},children:[Object(k.jsx)(T.XAxis,{axisAt:"bottom",orient:"bottom"}),Object(k.jsx)(T.YAxis,{axisAt:"right",orient:"right",ticks:2}),Object(k.jsx)(D.MouseCoordinateX,{at:"bottom",orient:"bottom",displayFormat:Object(N.a)("%Y-%m-%d")}),Object(k.jsx)(D.MouseCoordinateY,{at:"right",orient:"right",displayFormat:Object(M.a)(".2f")}),Object(k.jsx)(_.Brush,{ref:this.saveInteractiveNode(3),enabled:u,type:Z,onBrush:this.handleBrush3}),Object(k.jsx)(V.MACDSeries,Object(m.a)({yAccessor:function(e){return e.macd}},$)),Object(k.jsx)(L.MACDTooltip,{origin:[-38,15],yAccessor:function(e){return e.macd},options:q.options(),appearance:$})]}),Object(k.jsx)(D.CrossHairCursor,{})]})}}]),s}(n.a.Component);ee.defaultProps={type:"svg"};Object(Y.fitWidth)(ee),s(243);function te(e){var t=e.children,s=e.isOpen,c=void 0!==s&&s,n=e.hasCloseButton,r=void 0===n||n,o=e.onClose,i=void 0===o?function(e){}:o;return Object(k.jsx)("div",{children:Object(k.jsxs)("div",{style:{width:c?"100%":"0%"},className:"overlay",children:[r&&Object(k.jsx)("p",{className:"closebtn",onClick:function(e){return i(e)},children:"\xd7"}),Object(k.jsx)("div",{className:"overlay-content",children:t})]})})}s(244);var se=function(){var e=Object(c.useState)(void 0),t=Object(u.a)(e,2),s=t[0],n=t[1],r=Object(c.useState)(!0),o=Object(u.a)(r,2),i=o[0],m=o[1],f=Object(c.useState)(!1),p=Object(u.a)(f,2),y=p[0],g=p[1],v=Object(c.useState)(),A=Object(u.a)(v,2),C=A[0],E=A[1],B=Object(c.useState)(),z=Object(u.a)(B,2),M=z[0],N=z[1],P=Object(c.useCallback)((function(e){y||i||!s||e&&(console.log("useCallback setting client width to",e.clientWidth,"from :"),N(e))}),[y,i,s]);function V(){var e=600;if(M){var t=e;e=M.clientWidth,console.log("ref found, changing default width to :",e,"from :",t)}console.log("handling resize : setting chartWidth to :",e),E(e)}Object(c.useEffect)((function(){window.addEventListener("resize",V)})),Object(c.useEffect)((function(){M&&E(M.clientWidth)}),[M]);var T=function(){var e=Object(l.a)(a.a.mark((function e(t){var s,c,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s="".concat("https://earningsvibe.herokuapp.com","/api/vibe_check?symbol=").concat(t.target.value,"&count=4"),e.next=3,fetch(s);case 3:return c=e.sent,e.next=6,c.json();case 6:r=e.sent,n(r);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(l.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Enter"!==t.key){e.next=9;break}return g(!0),t.preventDefault(),e.next=5,T(t);case 5:console.log("setting overlayopen to false"),m(!1),console.log("setting isLoading to false"),g(!1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(k.jsxs)(d.a,{fluid:!0,className:"pl-0 pr-0 bg-gray",children:[Object(k.jsx)(te,{isOpen:i,hasCloseButton:!1,children:Object(k.jsx)(j.a,{className:"justify-content-center center-me",children:Object(k.jsx)(h.a,{xs:!0,className:"ml-5 mr-5",children:!y&&i?Object(k.jsx)("input",{spellCheck:!1,placeholder:"ticker",type:"text",className:"input--fullscreen",onKeyPress:function(){var e=Object(l.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}):Object(k.jsx)(b.a,{variant:"light",className:"justify-content-end",animation:"border",role:"status",children:Object(k.jsx)("span",{className:"sr-only",children:"Loading..."})})})})}),!i&&s.length&&Object(k.jsxs)(c.Fragment,{children:[Object(k.jsx)(w,{brand:"earningsvibe.com",expand:"sm",searchPlaceholderText:"Ticker",onSearchClick:function(e){return m(!0)}}),Object(k.jsx)(S,{className:"mt-2",fluid:!0,children:Object(k.jsx)(j.a,{className:"justify-content-center center-me",children:Object(k.jsx)(h.a,{sm:12,md:8,ref:P,children:s.map((function(e){return Object(k.jsx)(j.a,{children:Object(k.jsx)(h.a,{children:Object(k.jsxs)(x.a,{className:"mt-5 mb-5",children:[Object(k.jsx)(x.a.Header,{children:Object(k.jsxs)(O.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[Object(k.jsx)("thead",{children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{children:"Symbol"}),Object(k.jsx)("th",{children:"Date"}),Object(k.jsx)("th",{children:"EPS Estimate"}),Object(k.jsx)("th",{children:"EPS Actual"}),Object(k.jsx)("th",{children:"Revenue Estimate"}),Object(k.jsx)("th",{children:"Revenue Actual"})]})}),Object(k.jsx)("tbody",{children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{children:e.earning.symbol}),Object(k.jsx)("td",{children:e.earning.date}),Object(k.jsx)("td",{children:e.earning.epsEstimated}),Object(k.jsx)("td",{children:e.earning.eps}),Object(k.jsx)("td",{children:e.earning.revenueEstimated}),Object(k.jsx)("td",{children:e.earning.revenue})]})})]})}),Object(k.jsx)(x.a.Body,{className:"p-0",children:Object(k.jsx)(I,{type:"svg",height:600,width:C,data:e.stock.sort((function(e,t){return new Date(e.date).getTime()-new Date(t.date).getTime()}))})})]})})})}))})})})]})]})};s(245);o.a.render(Object(k.jsx)(se,{}),document.getElementById("root"))}},[[247,1,2]]]);
//# sourceMappingURL=main.b172afb9.chunk.js.map